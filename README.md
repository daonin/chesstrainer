# Chess Tactics Telegram Bot

Telegram-–±–æ—Ç –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —à–∞—Ö–º–∞—Ç–Ω–æ–π —Ç–∞–∫—Ç–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –ø–∞—Ä—Ç–∏–π —Å Chess.com.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:**
   - –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
   - –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞: `/newbot`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
   ```bash
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   cp env.example .env
   
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env - –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω
   nano .env
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker
   docker-compose up -d
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞:**
   - –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
   - `/update your_chess_username` - –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞—Ä—Ç–∏–∏
   - `/start` - –Ω–∞—á–∞—Ç—å —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –í—ã–±—Ä–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏
- `/update username [months] [depth]` - –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞—Ä—Ç–∏–∏ —Å Chess.com
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥—Ä–∏–ª–ª–∞–º
- `/help` - –°–ø—Ä–∞–≤–∫–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
- `/update hikaru` - –∞–Ω–∞–ª–∏–∑ –∑–∞ 2 –º–µ—Å—è—Ü–∞
- `/update username 3 12` - 3 –º–µ—Å—è—Ü–∞, –≥–ª—É–±–∏–Ω–∞ 12

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–Ω–∞–ª–∏–∑ –ø–∞—Ä—Ç–∏–π**: –ë–æ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∞—à–∏ –ø–∞—Ä—Ç–∏–∏ 5+0 —Å Chess.com, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ Stockfish –∏ –Ω–∞—Ö–æ–¥–∏—Ç –±–ª–∞–Ω–¥–µ—Ä—ã (‚â•150cp –ø–æ—Ç–µ—Ä–∏)

2. **–°–æ–∑–¥–∞–Ω–∏–µ –¥—Ä–∏–ª–ª–æ–≤**: –ü–æ–∑–∏—Ü–∏–∏ —Å –æ—à–∏–±–∫–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ —Å —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é (severity 1-3)

3. **–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞**: –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –∫–∞–∫ PNG, –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –ª—É—á—à–∏–π —Ö–æ–¥, –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–µ–∑ Stockfish

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ chess_trainer_bot.py     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ (–∞–Ω–∞–ª–∏–∑ + –±–æ—Ç)
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile              # –û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements_docker.txt # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ env.example             # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îî‚îÄ‚îÄ README_docker.md        # –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üíæ –î–∞–Ω–Ω—ã–µ

- –ë–∞–∑–∞ SQLite —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Docker-—Ç–æ–º–µ `chess_data`
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ë—ç–∫–∞–ø: `docker run --rm -v chess_data:/data -v $(pwd):/backup alpine cp /data/trainer_output.sqlite /backup/`

## üõ† –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements_docker.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Stockfish
brew install stockfish  # macOS
sudo apt install stockfish  # Linux

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
export TELEGRAM_BOT_TOKEN="your_token"
export STOCKFISH_PATH="/usr/games/stockfish"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
python chess_trainer_bot.py
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –¥—Ä–∏–ª–ª—ã –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
- **–ë–ª–∞–Ω–¥–µ—Ä—ã**: cp_loss ‚â• 150
- **–î–æ–ª–≥–∏–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è**: time_spent > 20 —Å–µ–∫
- **Severity**:
  - 1: –ª–µ–≥–∫–∏–µ –±–ª–∞–Ω–¥–µ—Ä—ã
  - 2: –±–ª–∞–Ω–¥–µ—Ä + –¥–æ–ª–≥–æ–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ  
  - 3: –≥—Ä—É–±—ã–µ –±–ª–∞–Ω–¥–µ—Ä—ã (‚â•300cp)

---

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [README_docker.md](README_docker.md)
